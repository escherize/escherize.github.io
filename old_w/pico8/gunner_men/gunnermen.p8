pico-8 cartridge // http://www.pico-8.com
version 18
__lua__
function _init()
  players = {}
  bullets = {}
  --b1 = make_bullet(50, -1)
  p1 = make_player(50, 1)
	 p2 = make_player(90, 2)
end

function _update()
 for p in all(players) do
   update_player(p)
 end
 for b in all(bullets) do
  update_bullet(b)
 end
end


function _draw()
 cls()
 print(count(bullets))
 for p in all(players) do
  draw_player(p)
 end
 for b in all(bullets) do
  draw_bullet(b)
 end
end
-->8
function make_player(x,sn)
 p = {}
 p.x = x
 p.sn = sn
 add(players, p)
 return p
end

function update_player(p)
 print(p.sn-1)
 if (btn(➡️,p.sn-1)) p.x += 1
 if (btn(⬅️,p.sn-1)) p.x -= 1
 if (btnp(❎,p.sn-1)) make_bullet(p.x+4, -1)
end

function draw_player(p)
 spr(p.sn, p.x, 120)
end

-->8
function make_bullet(x,v)
 b = {}
 b.x = x
 b.y = 120
 b.v = v
 add(bullets, b)
 return b
end

function update_bullet(b)
 b.y += b.v
end

function draw_bullet(b)
 sspr(24, 0,2,2,
      b.x,b.y,2,2)
end

__gfx__
0000000000006000000060009a000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000660000006600089000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000560000005600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000056656600566566000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000005556000055560000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700056665600566656000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000555555565555555600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000eeeeeee5ccccccc500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__gff__
0001010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
