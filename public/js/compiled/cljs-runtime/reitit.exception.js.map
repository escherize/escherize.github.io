{"version":3,"sources":["reitit/exception.cljc"],"mappings":";;;AAGA,AAAA,AAAA,AAAAA,AAAME;AAAN,AAAA,AAAAD,AAAA,AAAA;AAAA,AAAA,AAAAA;AAAA;AAAA,AAAAC,AAAA,AAAA,AAAA;;;AAAA;AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA;;;;AAAA,AAAA,AAAAC,AAAA,AAAA,AAAA,AAAA;;;;;AAAA,AAAA,AAAA,AAAMD,AACFE;AADJ,AAEG,AAAA,AAACC,AAAMD;;;AAFV,AAAA,AAAA,AAAMF,AAGFE,AAAKE;AAHT,AAIG,AAAO,AAAA,AAAA,AAAA,AAACC,AAAQ,AAAKH,AAAaA,AAAYE;;;AAJjD,AAAA,AAAA,AAAMJ;;AAAN,AAMA,AAAA,AAAMM,AAAaC;AAAnB,AAC2C,AAACC,AAAWD;;AAEvD,AAAA,AAAAE,AAAAC,AAAAC;AAAA;AAAA,AAAA,AAAA,AAAAC,AAAA,AAAAC,AAAA,AAAUS;AAAVR,AAAA,AAAAD,AAAA;AAAAE,AAAA,AAAAF,AAAA;AAAAG,AAAA,AAAAH,AAAA;AAAAI,AAAA,AAAAC,AAAA,AAAA,AAAA,AAAAC,AAAA;AAAA,AAAA,AAAAA,AAAAA,AAAAA;;AAAA,AAAA,AAAAC,AAAA,AAAAC,AAAA,AAAA,AAA2B,AAAKnB,AAAKqB,AAAEA;AAAZ,AAAerB;AAA1C,AAAAe,AAAAL,AAAAE,AAAAC,AAAAC;;;AAEA,AAAA,AAAMQ,AAAWjB;AAAjB,AACE,AAAMH,AAAK,AAACqB,AAAQlB;AACdmB,AAAQ,AAAAC,AAAkB,AAAA,AAAOvB;AAAzBwB,AAA+B,AAACtB,AAAYC;AAA5CsB,AAA+C,AAAA,AAAOzB;AAAtD,AAAA,AAAAuB,AAAAC,AAAAC,AAAAF,AAAAC,AAAAC,AAACP,AAAAA,AAAAA;;AADf,AAGE,AAACjB,AAAQqB,AAAQ,AAACI,AAAM,AAAAC,AAAI3B;AAAJ,AAAA,AAAA2B;AAAAA;;AAAA;;AAAP,AAA4BxB;;AAMjD,AAAAe,AAAA,AAAA,AAAsCC,AAAEG,AAAQtB;AAAhD,AACE,AAAKsB,AAAQ,AAAA,AAAItB,AAAK,AAAA,AAAY,AAAC4B,AAAO5B;;AAE5C,AAAAkB,AAAA,AAAA,AAA6CC,AAAEA,AAAEU;AAAjD,AACE,AAAA,AAACC,AAAMC,AACA,AAACC,AACC,AAAAC;AAAA,AAAA,AAAAC,AAAAD;AAAAE,AAAA,AAAAC,AAAAF,AAAA,AAAA;AAAA,AAAAE,AAAAD,AAAA,AAAA,AAAOE;AAAP,AAAAD,AAAAF,AAAA,AAAA,AAAaI;AAAb,AACE,AAAA,AAAA,AAAA,AAAWD,AAAa,AAAA,AAACE,AAAiB,AAACP,AAAKQ,AAAMF;AACxDT;;AAEX,AAAAX,AAAA,AAAA,AAA6CC,AAAEA,AAAEU;AAAjD,AACE,AAAA,AAACC,AAAMC,AACA,AAACC,AACC,AAAAS;AAAA,AAAA,AAAAC,AAAAD;AAAA,AAAAL,AAAAM,AAAA,AAAA,AAAMC;AAAN,AAAAP,AAAAM,AAAA,AAAA,AAAWJ;AAAX,AACE,AAAA,AAAA,AAAKK,AAAa,AAAA,AAACJ,AAAiB,AAACP,AAAKQ,AAAMF;AAClDT;;AAEX,AAAAX,AAAA,AAAA,AAAqDC,AAAEA,AAAEnB;AAAzD,AACE,AAAA,AAAoC,AAAC4B,AAAO5B","names":["var_args","G__40562","reitit.exception/fail!","js/Error","type","reitit.exception.fail_BANG_.cljs$core$IFn$_invoke$arity$2","data","cljs.core.ex_info.cljs$core$IFn$_invoke$arity$2","reitit.exception/get-message","e","cljs.core/ex-message","js/reitit","js/reitit.exception","js/reitit.exception.format-exception","method-table__4672__auto__","cljs.core.atom.cljs$core$IFn$_invoke$arity$1","prefer-table__4673__auto__","method-cache__4674__auto__","cached-hierarchy__4675__auto__","hierarchy__4676__auto__","cljs.core.get.cljs$core$IFn$_invoke$arity$3","fexpr__40572","cljs.core/MultiFn","cljs.core.symbol.cljs$core$IFn$_invoke$arity$2","reitit.exception/format-exception","_","reitit.exception/exception","cljs.core/ex-data","message","G__40574","G__40575","G__40576","cljs.core.assoc.cljs$core$IFn$_invoke$arity$3","or__4185__auto__","cljs.core.pr_str.cljs$core$IFn$_invoke$arity$variadic","conflicts","cljs.core.apply.cljs$core$IFn$_invoke$arity$3","cljs.core/str","cljs.core.mapv.cljs$core$IFn$_invoke$arity$2","p__40585","vec__40587","vec__40590","cljs.core.nth.cljs$core$IFn$_invoke$arity$3","path","vals","clojure.string.join.cljs$core$IFn$_invoke$arity$2","cljs.core/first","p__40599","vec__40604","name"],"sourcesContent":["(ns reitit.exception\n  (:require [clojure.string :as str]))\n\n(defn fail!\n  ([type]\n   (fail! type nil))\n  ([type data]\n   (throw (ex-info (str type) {:type type, :data data}))))\n\n(defn get-message [e]\n  #?(:clj (.getMessage ^Exception e) :cljs (ex-message e)))\n\n(defmulti format-exception (fn [type _ _] type))\n\n(defn exception [e]\n  (let [data (ex-data e)\n        message (format-exception (:type data) (get-message e) (:data data))]\n    ;; there is a 3-arity version (+cause) of ex-info, but the default repl error message is taken from the cause\n    (ex-info message (assoc (or data {}) ::cause e))))\n\n;;\n;; Formatters\n;;\n\n(defmethod format-exception :default [_ message data]\n  (str message (if data (str \"\\n\\n\" (pr-str data)))))\n\n(defmethod format-exception :path-conflicts [_ _ conflicts]\n  (apply str \"Router contains conflicting route paths:\\n\\n\"\n         (mapv\n           (fn [[[path] vals]]\n             (str \"   \" path \"\\n-> \" (str/join \"\\n-> \" (mapv first vals)) \"\\n\\n\"))\n           conflicts)))\n\n(defmethod format-exception :name-conflicts [_ _ conflicts]\n  (apply str \"Router contains conflicting route names:\\n\\n\"\n         (mapv\n           (fn [[name vals]]\n             (str name \"\\n-> \" (str/join \"\\n-> \" (mapv first vals)) \"\\n\"))\n           conflicts)))\n\n(defmethod format-exception :reitit.impl/merge-data [_ _ data]\n  (str \"Error merging route-data\\n\\n\" (pr-str data)))\n"]}